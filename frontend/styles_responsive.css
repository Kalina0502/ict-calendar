@media (max-width: 768px) {

    /* Контейнер на календара - рамка, отстояние, закръгление */
    #calendar-wrapper {
        margin: 20px 10px;
        padding: 10px;
        border-radius: 8px;
    }

    /* Инструментите (заглавие, стрелки и т.н.) подредени вертикално на мобилни */
    .fc-toolbar {
        flex-direction: column;
        gap: 8px;
    }

    /* Разстояние между бутоните */
    .fc .fc-button-group>.fc-button:not(:last-child) {
        margin-right: 3px;
    }

    /* Минимална височина на ден в month view */
    .fc-daygrid-day-frame {
        min-height: 50px;
    }

    /* Ограничаване височината на time grid и разрешаване на скрол */
    .fc-timegrid,
    .fc-timegrid-body,
    .fc-timegrid-slots,
    .fc-scrollgrid-sync-table {
        max-height: 80vh;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch;
    }

    /* Премахване на нежелан scroll в timegrid */
    .fc-timegrid-body,
    .fc-timegrid-slots,
    .fc-timegrid-cols {
        overflow: unset !important;
    }

    /* Отстояние вдясно при списъчен изглед */
    .fc .fc-list-day-cushion {
        padding-right: 25px !important;
    }

    /* ===== POPUP СЪБИТИЕ ===== */
    #eventPreview {
        position: fixed !important;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        width: 80vw !important;
        max-height: 260px;
        overflow: hidden;
        transition: max-height 0.3s ease;
        z-index: 10000 !important;
        padding: 20px 24px !important;
        border-radius: 14px !important;
        background-color: #f1f3f4 !important;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25) !important;
        border: 1px solid #dadce0 !important;
        display: none;
    }

    #eventPreview.expanded {
        max-height: 1000px;
        overflow: auto;
    }

    #eventPreview.show {
        display: block;
    }

    /* Действия вътре в popup */
    .preview-actions {
        justify-content: center;
        margin-bottom: 10px;
    }

    /* Бутоните в popup */
    .preview-actions a,
    .preview-actions button,
    .preview-close {
        font-size: 16px;
    }

    /* X за затваряне */
    .preview-close {
        position: absolute;
        top: 10px;
        right: 14px;
    }

    /* ===== ТЕКСТОВИ СТИЛОВЕ ===== */

    /* Заглавие в навигацията */
    .fc-toolbar-title {
        font-size: 1.1rem !important;
        font-weight: 700 !important;
        color: #2a2929 !important;
    }

    /* Дни от седмицата */
    .fc-col-header-cell-cushion {
        color: #2a2929 !important;
        font-size: 0.85rem;
        font-weight: 500 !important;
    }

    /* Заглавие на събитие */
    .event-title {
        text-align: left !important;
        margin-bottom: 10px;
        font-size: 15px !important;
        font-weight: 500 !important;
        color: #333 !important;
    }

    /* Информация за събитие (час, място и т.н.) */
    .event-body div {
        flex-direction: row !important;
        align-items: center !important;
        flex-wrap: nowrap !important;
        gap: 6px;
        font-size: 14px;
        margin-bottom: 8px;
        line-height: 1.4;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .event-body i {
        margin-right: 4px;
        flex-shrink: 0;
    }

    /* ===== ОПИСАНИЕ ПРИ КЛИК ===== */
    .preview-description {
        flex-wrap: nowrap !important;
        align-items: center !important;
    }

    #previewDescription,
    .preview-description .desc-text {
        white-space: nowrap !important;
        overflow: hidden;
        text-overflow: ellipsis;
        transition: all 0.3s ease;
        flex: 1;
    }

    /* Разгънато състояние */
    #previewDescription.expanded,
    .preview-description.expanded .desc-text {
        white-space: normal !important;
        overflow: visible;
        text-overflow: initial;
    }

    /* ===== КАЛЕНДАР MONTH VIEW ===== */

    /* Премахваме точката от събитията */
    .fc-daygrid-event-dot {
        display: none !important;
    }

    /* Оправяме подравняването след махането на точката */
    .fc-daygrid-event {
        padding-left: 4px !important;
    }

    /* Основен стил на събитие в grid */
    .fc-event {
        font-size: 0.75rem !important;
        padding: 4px 6px;
        border-radius: 10px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Заглавие на събитие в dayGrid */
    .fc-event-title {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Днешен ден — оцветяване */
    .fc-daygrid-day.fc-day-today {
        background-color: #f3f7ff;
        border-radius: 6px;
    }

    /* Лека рамка между дните */
    .fc-daygrid-day {
        border: 1px solid #f0f0f0;
    }

    /* ===== НАВИГАЦИЯ — СТРЕЛКИ И ЗАГЛАВИЕ ===== */

    /* Централна зона с заглавие и стрелки */
    .fc-toolbar-chunk:nth-child(2) {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
    }

    /* Стил на стрелките */
    #prevBtn,
    #nextBtn {
        font-size: 1.2rem;
        padding: 4px 8px;
        background: none;
        border: none;
        color: #333;
        border-radius: 50%;
        cursor: pointer;
        transition: background 0.2s ease;
    }

    #prevBtn:hover,
    #nextBtn:hover {
        background-color: rgba(0, 0, 0, 0.05);
    }

    /* Заглавие на календара (напр. May 2025) */
    .fc-toolbar-title {
        font-size: 1.1rem;
        font-weight: 600;
    }


    #todayBtn {
        display: none !important;
        /* Скрий оригиналния на мобилни */
    }

    #todayBtnMobile {
        display: block;
        margin: 20px auto 10px auto;
        background-color: #1a73e8;
        color: white;
        font-weight: 600;
        padding: 10px 20px;
        border-radius: 24px;
        border: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        font-size: 15px;
        width: fit-content;
        text-align: center;
        cursor: pointer;
        transition: background-color 0.2s ease;
    }

    #todayBtnMobile:hover {
        background-color: #185ee0;
    }
}